title: Французский говнокод
tags:
  - грабли
categories:
  - IT
author: Karel Wintersky
date: 2017-08-20 06:07:07
---
Есть такой плагин - [ResponisiveFileManager](http://www.responsivefilemanager.com/), автор - итальянец, код на [гитхабе](https://github.com/trippo/ResponsiveFilemanager), [демо тут](http://responsivefilemanager.com/demo.php). 

Казалось бы, все хорошо... но: пулл-реквесты автор реджектит, issue на гитхабе с багами закрывает с ответами вида "это не баг, это фича" или "вы должны использовать способ, приведенный на демо-странице". И вроде бы правильный способ там приведен, только не работает он нихрена!

А если хотите убедиться, что итальянские программисты пишут код пострашнее индусского - обязательно в него загляните! 

**Пример №1**

При подключении плагина проверяется, откуда его вызвали. Варианта всего два: CKEditor или TinyMCE, причем условие составлено так, что если не CKEditor - то TinyMCE. Каким образом, спрашивается, подключать плагин не к редактору, а в standalone-режиме? Нужно указать в строке запроса нужный ключик. Какой ключик? Разумеется, это нигде не описано и понятно только если в говнокод закопаться по уши. Ах да, я забыл сказать - если указать этот ключик - то плагин перестает распознавать всё кроме изображений (т.е. PDFки, ZIP-ы и прочее идут лесом - они на хостинг заливаются, а в списке - не показываются). Это исправляется... долгими плясками с бубном.

**Пример №2**

Для моего imgsrc (типа хостинга картинок для вики и блога) понадобилась функциональность - при нажатии на картинку 

**Пример №3**, собственно являющийся причиной для этого поста.

Понадобилось загрузить на свой imgsrc-хостинг картинку 5000*5000 пикселей (4 мегабайта PNG). Загружаю. Получаю ошибку "Недостаточно памяти". 
